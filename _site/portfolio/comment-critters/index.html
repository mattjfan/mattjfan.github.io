<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Matt Fan | Comment Critters</title>
    <link rel="icon" href="/img/fav.png" type="image/x-icon">

    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">

    <!-- main css -->
    <link href="/css/style.css" rel="stylesheet">


    <!-- modernizr -->
    <script src="/js/modernizr.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109281338-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-109281338-1');
    </script>

</head>

<body>

    <!-- Preloader -->
    <!-- <div id="preloader">
    <div class="pre-container">
        <div class="spinner">
            <div class="double-bounce1"></div>
            <div class="double-bounce2"></div>
        </div>
    </div>
</div>
 -->
    <!-- end Preloader -->
    <div class="container-fluid">
       <!-- box-header -->
        <header class="box-header">
            <div class="box-logo">
                <a href="/"><i class="ion-android-arrow-back" style='font-size: 3em;'></i></a>
            </div>
            <!-- box-nav -->

            <!-- box-primary-nav-trigger -->
        </header>
        <!-- end box-header -->

        <!-- nav -->
        <nav>
    <ul class="box-primary-nav">
<!--
        <li class="box-label">About me</li>

        <li><a href="index.html">Intro</a> <i class="ion-ios-circle-filled color"></i></li>
        <li><a href="about.html">About me</a></li>
        <li><a href="services.html">services</a></li>
        <li><a href="portfolio.html">portfolio</a></li>
        <li><a href="contact.html">contact me</a></li>

-->

        <li class="box-label">Links + Stuff</li>
        <li class="box-social"><a href="mailto:mfan@umd.edu"><i class="ion-email"></i></a></li>
        <li class="box-social"><a href="https://www.linkedin.com/in/matt-fan/"><i class="ion-social-linkedin"></i></a></li>
        <li class="box-social"><a href="https://github.com/mattjfan"><i class="ion-social-github"></i></a></li>
        <li class="box-social"><a href="https://dribbble.com/mfan"><i class="ion-social-dribbble"></i></a></li>

    </ul>
</nav>

        <!-- end nav -->
    </div>
        <!-- top-bar -->
    <!--div class="top-bar">
        <h1>project title</h1>
        <p><a href="#">Home</a> / <a href="#">portfolio</a> / project title</p>
    </div-->
    <!-- end top-bar -->
    <style>
    .critter{
      padding-left:10px;
      padding-right: 10px;
      margin-bottom: 20px;
      width:50px;
    }
    </style>
    <!-- main-container -->
    <div class="container main-container">
        <div class="col-md-12">
            <img src="commentcritters.png" alt="" class="img-responsive" />
            <div class="h-30"></div>
        </div>

        <div class="col-md-12">
            <h3 class="text-uppercase">Comment Critters</h3>
            <h5>Web Extension | Solo | 2017</h5>
            <div class="h-30"></div>
        </div>

        <div class="col-md-12">
            <p>Comment Critters is a small project I took on over winter break, 2017. It's a web
            extension that replaces HTML comments on web pages with cute critters that show you the
          comments when you hover over.</p>
          <div class='figure'>
            <center>
            <img class='image'src='screenshot1.png'>
          </center>
              Comment Critters in action! Hovering over a critter shows comments.
          </div>
          <p>The project gave me an introduction to Mozilla's Web Extensions API, and Chrome's extensions API. I made the characters in illustrator,
          and built the extension using HTML, CSS, and JS (with Jquery), along with the Web Extensions API. I learned how to work with JS script injection,
        and got my feet wet with HTML parsing with Regex and JS. Next steps for this project are writing a script to pretty up the speech bubbles (instead of
        just tooltips), shifting from regex parsing to a HTML parser (since some sites with irregular structures can confuse and break the parser I built), add a toggle
      to turn it on and off, and finally, officially release it on more browsers.  </p>
      <div class='figure'>
        <center>
        <img class='critter' src='img/critter1_rest.png'  title='Comments show up here!'>
        <img class='critter' src='img/critter2_rest.png'title='Comments show up here!'>
        <img class='critter' src='img/critter3_rest.png'title='Comments show up here!'>
        <img class='critter' src='img/critter4_rest.png'title='Comments show up here!'>
        <img class='critter' src='img/critter5_rest.png'title='Comments show up here!'>
        <img class='critter' src='img/critter6_rest.png'title='Comments show up here!'>
      </center>
          If you're on mobile, try them out here!
      </div>
          <p>The extension is currently live on the Firefox store <a href="https://addons.mozilla.org/en-US/firefox/addon/comment-critters/">here</a>,
            and the Chrome store <a href='https://chrome.google.com/webstore/detail/comment-critters/gfbkbeglbceeonopbimpdejbdofmflke'>here</a>. You can check out all the source files on Github
        <a href='https://github.com/mattjfan/comment-critters'>here</a>.</p>
        </div>


</div>
<script src="/js/jquery-2.1.1.js"></script>
<script>
hip_adj=[
  'gentrified','chillwave',
  "bespoke",
  'helvetica',
  '8-bit', 'raw denim','DIY',
  'woke',
  'paleo',
  'raw',
  'organic',
  'chartreuse',
  'hella',
  'vegan','meta','chic','artisan',
  'heirloom','direct-trade','small batch','wearable',
'acai','open-sourced',"Bernie Sanders's",'farm-to-table',
'lo-fi','microdosing','post-ironic','retro','charcoal-infused','lit','literally'];

hipster_words=['banjo','drone',
  'bae','blog','hashtag',
"pork belly",
'pitchfork',
'vape',
'mustache',
'poutine',
'avocado toast',
'mixtape',
'beard oil',
'selfies',
'cronut',
'distillery',
'humblebrag',
'quinoa',
'sriracha',
'food truck',
'narwhal','unicorn','umami',
'kombucha','taiyaki','polaroid','VHS','schlitz'
];

$('.critter').hover(function(){
  $(this).attr("src",$(this).attr("src").split("_")[0]+"_active.png");
},function(){$(this).attr("src",$(this).attr("src").split("_")[0]+"_rest.png")})

function get_comment_content(min_words, max_words){
  var i, n;
  var phrase="";
  n = Math.floor((max_words-min_words+1)*Math.random()+min_words)-1;
  for(i = 0;i<n;i++){
    if (i==0){
      phrase = hip_adj[Math.floor(Math.random()*hip_adj.length)];
    }else{
      phrase = phrase+' '+hip_adj[Math.floor(Math.random()*hip_adj.length)];
    }

  }
  phrase = phrase+' '+hipster_words[Math.floor(Math.random()*hipster_words.length)];
  return phrase;
}
$(document).ready(function () {
     $('.critter').each(function(){
        $(this).attr('title',get_comment_content(2,3));
      });});



</script>

    <!--footer>
        <div class="container-fluid">
            <p class="copyright">Matthew Fan | 2018</p>
        </div>
    </footer>

    <!-- back to top -->
    <a href="#0" class="cd-top"><i class="ion-android-arrow-up"></i></a>
    <!-- end back to top -->



    <!-- jQuery -->
    <script src="/js/jquery-2.1.1.js"></script>
    <!--  plugins -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/menu.js"></script>
    <script src="/js/animated-headline.js"></script>
    <script src="/js/isotope.pkgd.min.js"></script>


    <!--  custom script -->
    <script src="/js/custom.js"></script>
    <script>
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
      define(function() {
        return factory(root);
      });
    } else if (typeof exports === 'object') {
      module.exports = factory;
    } else {
      root.echo = factory(root);
    }
  })(this, function (root) {
  
    'use strict';
  
    var echo = {};
  
    var callback = function () {};
  
    var offset, poll, delay, useDebounce, unload;
  
    var isHidden = function (element) {
      return (element.offsetParent === null);
    };
    
    var inView = function (element, view) {
      if (isHidden(element)) {
        return false;
      }
  
      var box = element.getBoundingClientRect();
      return (box.right >= view.l && box.bottom >= view.t && box.left <= view.r && box.top <= view.b);
    };
  
    var debounceOrThrottle = function () {
      if(!useDebounce && !!poll) {
        return;
      }
      clearTimeout(poll);
      poll = setTimeout(function(){
        echo.render();
        poll = null;
      }, delay);
    };
  
    echo.init = function (opts) {
      opts = opts || {};
      var offsetAll = opts.offset || 0;
      var offsetVertical = opts.offsetVertical || offsetAll;
      var offsetHorizontal = opts.offsetHorizontal || offsetAll;
      var optionToInt = function (opt, fallback) {
        return parseInt(opt || fallback, 10);
      };
      offset = {
        t: optionToInt(opts.offsetTop, offsetVertical),
        b: optionToInt(opts.offsetBottom, offsetVertical),
        l: optionToInt(opts.offsetLeft, offsetHorizontal),
        r: optionToInt(opts.offsetRight, offsetHorizontal)
      };
      delay = optionToInt(opts.throttle, 250);
      useDebounce = opts.debounce !== false;
      unload = !!opts.unload;
      callback = opts.callback || callback;
      echo.render();
      if (document.addEventListener) {
        root.addEventListener('scroll', debounceOrThrottle, false);
        root.addEventListener('load', debounceOrThrottle, false);
      } else {
        root.attachEvent('onscroll', debounceOrThrottle);
        root.attachEvent('onload', debounceOrThrottle);
      }
    };
  
    echo.render = function (context) {
      var nodes = (context || document).querySelectorAll('[data-src], [data-src-background]');
      var length = nodes.length;
      var src, elem;
      var view = {
        l: 0 - offset.l,
        t: 0 - offset.t,
        b: (root.innerHeight || document.documentElement.clientHeight) + offset.b,
        r: (root.innerWidth || document.documentElement.clientWidth) + offset.r
      };
      for (var i = 0; i < length; i++) {
        elem = nodes[i];
        if (inView(elem, view)) {
  
          if (unload) {
            elem.setAttribute('data-src-placeholder', elem.src);
          }
  
          if (elem.getAttribute('data-src-background') !== null) {
            elem.style.backgroundImage = 'url(' + elem.getAttribute('data-src-background') + ')';
          }
          else if (elem.src !== (src = elem.getAttribute('data-src'))) {
            elem.src = src;
          }
  
          if (!unload) {
            elem.removeAttribute('data-src');
            elem.removeAttribute('data-src-background');
          }
  
          callback(elem, 'load');
        }
        else if (unload && !!(src = elem.getAttribute('data-src-placeholder'))) {
  
          if (elem.getAttribute('data-src-background') !== null) {
            elem.style.backgroundImage = 'url(' + src + ')';
          }
          else {
            elem.src = src;
          }
  
          elem.removeAttribute('data-src-placeholder');
          callback(elem, 'unload');
        }
      }
      if (!length) {
        echo.detach();
      }
    };
  
    echo.detach = function () {
      if (document.removeEventListener) {
        root.removeEventListener('scroll', debounceOrThrottle);
      } else {
        root.detachEvent('onscroll', debounceOrThrottle);
      }
      clearTimeout(poll);
    };
  
    return echo;
  
  });
</script>
<script>
    echo.init({
      offset: 2500,
      throttle: 250,
      unload: false,
      callback: function (element, op) {
        //console.log(element, 'has been', op + 'ed')
      }
    });
</script>
</body>

</html>
